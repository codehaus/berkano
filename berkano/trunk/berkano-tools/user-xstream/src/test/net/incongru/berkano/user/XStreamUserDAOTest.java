package net.incongru.berkano.user;

import junit.framework.TestCase;

/**
 *
 * @author greg
 * @author $Author: gj $ (last edit)
 * @version $Revision: 1.4 $
 */
public class XStreamUserDAOTest extends TestCase {
    public void testSave() throws Exception {
  /*      DummyXStreamUserDAO dao = new DummyXStreamUserDAO();
        UserMutator um = dao.newUser(123456);
        um.setUserName("greg");
        um.setEmail("greg@incongru.net");
        um.setPassword("secret");
        um.setFullName("Grégory Joseph");

        boolean saved = dao.saveUser(um);
        System.out.println("user saved = " + saved);
    }


    public void testGroup() throws Exception {
        DummyXStreamGroupDAO dao = new DummyXStreamGroupDAO();
        GroupMutator gm = dao.newGroup("yop-group");
        gm.addRole(new Role("enee", new LinkedList()));
        gm.addRole(new Role("zoiennz", new LinkedList()));
        gm.setGroupName("da name of da group");

        boolean saved = dao.saveGroup(gm);
        System.out.println("group saved = " + saved);
    }

    private class DummyXStreamUserDAO extends XStreamUserDAO {
        public UserMutator newUser(long id) {
            UserMutator userMutator = super.newUser();
            ((UserImpl)userMutator).setUserId(id);
            return userMutator;
        }
    }
    private class DummyXStreamGroupDAO extends XStreamGroupDAO {
        public GroupMutator newGroup(String id) {
            GroupMutator groupMutator = super.newGroup();
            ((GroupImpl)groupMutator).setGroupId(id);
            return groupMutator;
        }
*/
    }

}
